



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Distributed Asynchronous Object Storage">
      
      
        <link rel="canonical" href="http://daos.io/admin/installation/">
      
      
        <meta name="author" content="DAOS Project">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.3">
    
    
      
        <title>Software Installation - DAOS v0.9</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#software-installation" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://daos.io" title="DAOS v0.9" aria-label="DAOS v0.9" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              DAOS v0.9
            </span>
            <span class="md-header-nav__topic">
              
                Software Installation
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/daos-stack/daos/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    daos-stack/daos
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../overview/terminology/" class="md-tabs__link">
          Architecture Overview
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../hardware/" class="md-tabs__link md-tabs__link--active">
          Administration Guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../user/container/" class="md-tabs__link">
          User Guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../dev/development/" class="md-tabs__link">
          Developer Zone
        </a>
      
    </li>
  

      
        
      
        
      
        
      
        
      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="http://daos.io" title="DAOS v0.9" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    DAOS v0.9
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/daos-stack/daos/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    daos-stack/daos
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Architecture Overview
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Architecture Overview
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/terminology/" title="Terminology" class="md-nav__link">
      Terminology
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/storage/" title="Storage Model" class="md-nav__link">
      Storage Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/transaction/" title="Transaction Model" class="md-nav__link">
      Transaction Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/fault/" title="Fault Model" class="md-nav__link">
      Fault Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/security/" title="Security Model" class="md-nav__link">
      Security Model
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Administration Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Administration Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../hardware/" title="Hardware Requirements" class="md-nav__link">
      Hardware Requirements
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Software Installation
      </label>
    
    <a href="./" title="Software Installation" class="md-nav__link md-nav__link--active">
      Software Installation
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#software-dependencies" class="md-nav__link">
    Software Dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distribution-packages" class="md-nav__link">
    Distribution Packages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#daos-from-scratch" class="md-nav__link">
    DAOS from Scratch
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-prerequisites" class="md-nav__link">
    Build Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#daos-source-code" class="md-nav__link">
    DAOS Source Code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-daos-dependencies" class="md-nav__link">
    Building DAOS &amp; Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-setup" class="md-nav__link">
    Environment setup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#daos-in-docker" class="md-nav__link">
    DAOS in Docker
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-from-github" class="md-nav__link">
    Building from GitHub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-from-a-local-tree" class="md-nav__link">
    Building from a Local Tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simple-docker-setup" class="md-nav__link">
    Simple Docker Setup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployment/" title="System Deployment" class="md-nav__link">
      System Deployment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../administration/" title="System Administration" class="md-nav__link">
      System Administration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pool_operations/" title="Pool Operations" class="md-nav__link">
      Pool Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tiering_uns/" title="Tiering and Unified Namespace" class="md-nav__link">
      Tiering and Unified Namespace
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../performance_tuning/" title="Performance Tuning" class="md-nav__link">
      Performance Tuning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../utilities_examples/" title="Utilities and Usage Examples" class="md-nav__link">
      Utilities and Usage Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../env_variables/" title="Environment Variables" class="md-nav__link">
      Environment Variables
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/container/" title="Container Management" class="md-nav__link">
      Container Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/interface/" title="Native Programming Interface" class="md-nav__link">
      Native Programming Interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/posix/" title="POSIX Namespace" class="md-nav__link">
      POSIX Namespace
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/hpc/" title="HPC I/O Middleware" class="md-nav__link">
      HPC I/O Middleware
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/spark/" title="Spark" class="md-nav__link">
      Spark
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Developer Zone
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Developer Zone
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/development/" title="Dev Environment" class="md-nav__link">
      Dev Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://github.com/daos-stack/daos/blob/master/src/README.md" title="DAOS Internals" class="md-nav__link">
      DAOS Internals
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://wiki.hpdd.intel.com" title="Community Wiki" class="md-nav__link">
      Community Wiki
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://wiki.hpdd.intel.com/display/DC/Roadmap/" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://daos.groups.io/g/daos" title="Mailing list" class="md-nav__link">
      Mailing list
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://jira.hpdd.intel.com/projects/DAOS" title="Issue tracker" class="md-nav__link">
      Issue tracker
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#software-dependencies" class="md-nav__link">
    Software Dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distribution-packages" class="md-nav__link">
    Distribution Packages
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#daos-from-scratch" class="md-nav__link">
    DAOS from Scratch
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#build-prerequisites" class="md-nav__link">
    Build Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#daos-source-code" class="md-nav__link">
    DAOS Source Code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-daos-dependencies" class="md-nav__link">
    Building DAOS &amp; Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-setup" class="md-nav__link">
    Environment setup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#daos-in-docker" class="md-nav__link">
    DAOS in Docker
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#building-from-github" class="md-nav__link">
    Building from GitHub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-from-a-local-tree" class="md-nav__link">
    Building from a Local Tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simple-docker-setup" class="md-nav__link">
    Simple Docker Setup
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/daos-stack/daos/edit/master/docs/admin/installation.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="software-installation">Software Installation<a class="headerlink" href="#software-installation" title="Permanent link">&para;</a></h1>
<p>DAOS runs on both Intel 64 and ARM64 platforms and has been successfully tested
on CentOS 7, OpenSUSE Leap 15.1, and Ubuntu 18.04 distributions.</p>
<h2 id="software-dependencies">Software Dependencies<a class="headerlink" href="#software-dependencies" title="Permanent link">&para;</a></h2>
<p>DAOS requires a C99-capable compiler, a Go compiler, and the scons build tool.
Moreover, the DAOS stack leverages the following open source projects:</p>
<ul>
<li>
<p><a href="https://github.com/daos-stack/cart"><em>CaRT</em></a> for high-performance
    communication leveraging advanced network capabilities.</p>
</li>
<li>
<p><a href="https://grpc.io/"><em>gRPC</em></a> provides a secured out-of-band channel for
    DAOS administration.</p>
</li>
<li>
<p><a href="https://github.com/pmem/pmdk.git"><em>PMDK</em></a> for persistent memory
    programming.</p>
</li>
<li>
<p><a href="http://spdk.io/"><em>SPDK</em></a> for userspace NVMe device access and management.</p>
</li>
<li>
<p><a href="https://github.com/axboe/fio"><em>FIO</em></a> for flexible testing of Linux I/O
    subsystems, specifically enabling validation of userspace NVMe device
    performance through fio-spdk plugin.</p>
</li>
<li>
<p><a href="https://github.com/01org/isa-l"><em>ISA-L</em></a> for checksum and erasure code
    computation.</p>
</li>
<li>
<p><a href="https://github.com/pmodels/argobots"><em>Argobots</em></a> for thread management.</p>
</li>
<li>
<p><a href="https://github.com/open-mpi/hwloc"><em>hwloc</em></a> for discovering system devices,
    detecting their NUMA node affinity and for CPU binding</p>
</li>
<li>
<p><a href="https://github.com/ofiwg/libfabric"><em>libfabric</em></a> for detecting fabric
    interfaces, providers, and connection management.</p>
</li>
</ul>
<p>The DAOS build system can be configured to download and build any missing
dependencies automatically.</p>
<h2 id="distribution-packages">Distribution Packages<a class="headerlink" href="#distribution-packages" title="Permanent link">&para;</a></h2>
<p>DAOS RPM and deb packaging is under development and will be available for DAOS
v1.0. Integration with the <a href="https://spack.io/">Spack</a> package manager is also
under consideration.</p>
<h2 id="daos-from-scratch">DAOS from Scratch<a class="headerlink" href="#daos-from-scratch" title="Permanent link">&para;</a></h2>
<p>The following instructions have been verified with CentOS. Installations on other
Linux distributions might be similar with some variations.
Developers of DAOS may want to review the additional sections below before beginning,
for suggestions related specifically to development. Contact us in our
<a href="https://daos.groups.io/g/daos"><em>forum</em></a> for further help with any issues.</p>
<h3 id="build-prerequisites">Build Prerequisites<a class="headerlink" href="#build-prerequisites" title="Permanent link">&para;</a></h3>
<p>To build DAOS and its dependencies, several software packages must be installed
on the system. This includes scons, libuuid, cmocka, ipmctl, and several other
packages usually available on all the Linux distributions. Moreover, a Go
version of at least 1.10 is required.</p>
<p>An exhaustive list of packages for each supported Linux distribution is
maintained in the Docker files:</p>
<ul>
<li><a href="https://github.com/daos-stack/daos/blob/master/utils/docker/Dockerfile.centos.7#L53-L72">CentOS</a></li>
<li><a href="https://github.com/daos-stack/daos/blob/master/utils/docker/Dockerfile.leap.15#L16-L40">OpenSUSE</a></li>
<li><a href="https://github.com/daos-stack/daos/blob/master/utils/docker/Dockerfile.ubuntu.18.04#L21-L38">Ubuntu</a></li>
</ul>
<p>The command lines to install the required packages can be extracted from
the Docker files by removing the "RUN" command, which is specific to Docker.
Check the <a href="https://github.com/daos-stack/daos/tree/master/utils/docker">docker</a>
directory for different Linux distribution versions.</p>
<p>Some DAOS tests use MPI.   The DAOS build process
uses the environment modules package to detect the presence of MPI.  If none
is found, the build will skip building those tests.</p>
<h3 id="daos-source-code">DAOS Source Code<a class="headerlink" href="#daos-source-code" title="Permanent link">&para;</a></h3>
<p>To check out the DAOS source code, run the following command:</p>
<pre><code class="bash">$ git clone https://github.com/daos-stack/daos.git
</code></pre>

<p>This command clones the DAOS git repository (path referred as ${daospath}
below). Then initialize the submodules with:</p>
<pre><code class="bash">$ cd ${daospath}
$ git submodule init
$ git submodule update
</code></pre>

<h3 id="building-daos-dependencies">Building DAOS &amp; Dependencies<a class="headerlink" href="#building-daos-dependencies" title="Permanent link">&para;</a></h3>
<p>If all the software dependencies listed previously are already satisfied, then
type the following command in the top source directory to build the DAOS stack:</p>
<pre><code class="bash">$ scons --config=force install
</code></pre>

<p>If you are a developer of DAOS, we recommend following the instructions in the
<a href="https://daos-stack.github.io/dev/development/#building-daos-for-development">DAOS for Development</a> section.</p>
<p>Otherwise, the missing dependencies can be built automatically by invoking scons
with the following parameters:</p>
<pre><code class="bash">$ scons --config=force --build-deps=yes install
</code></pre>

<p>By default, DAOS and its dependencies are installed under ${daospath}/install.
The installation path can be modified by adding the PREFIX= option to the above
command line (e.g., PREFIX=/usr/local).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Several parameters can be set (e.g., COMPILER=clang or COMPILER=icc) on the
scons command line. Please see <code>scons --help</code> for all the possible options.
Those options are also saved for future compilations.</p>
</div>
<h3 id="environment-setup">Environment setup<a class="headerlink" href="#environment-setup" title="Permanent link">&para;</a></h3>
<p>Once built, the environment must be modified to search for binaries and header
files in the installation path. This step is not required if standard locations
(e.g. /bin, /sbin, /usr/lib, ...) are used.</p>
<pre><code class="bash">CPATH=${daospath}/install/include/:$CPATH
PATH=${daospath}/install/bin/:${daospath}/install/sbin:$PATH
export CPATH PATH
</code></pre>

<p>If using bash, PATH can be set up for you after a build by sourcing the script
utils/sl/utils/setup_local.sh from the daos root. This script utilizes a file
generated by the build to determine the location of daos and its dependencies.</p>
<p>If required, ${daospath}/install must be replaced with the alternative path
specified through PREFIX.</p>
<h2 id="daos-in-docker">DAOS in Docker<a class="headerlink" href="#daos-in-docker" title="Permanent link">&para;</a></h2>
<p>This section describes how to build and run the DAOS service in a Docker
container. A minimum of 5GB of DRAM and 16GB of disk space will be required.
On Mac, please make sure that the Docker settings under
"Preferences/{Disk, Memory}" are configured accordingly.</p>
<h3 id="building-from-github">Building from GitHub<a class="headerlink" href="#building-from-github" title="Permanent link">&para;</a></h3>
<p>To build the Docker image directly from GitHub, run the following command:</p>
<pre><code class="bash">$ curl -L https://raw.githubusercontent.com/daos-stack/daos/master/utils/docker/Dockerfile.centos.7 | \
        docker build --no-cache -t daos -
</code></pre>

<p>This creates a CentOS 7 image, fetches the latest DAOS version from GitHub,
builds it, and installs it in the image.
For Ubuntu and other Linux distributions, replace Dockerfile.centos.7 with
Dockerfile.ubuntu.18.04 and the appropriate version of interest.</p>
<p>Once the image created, one can start a container that will eventually run
the DAOS service:</p>
<pre><code class="bash">$ docker run -it -d --privileged --name server \
        -v /dev/hugepages:/dev/hugepages \
        daos
</code></pre>

<p>If Docker is being run on a non-Linux system (e.g., OSX), the export of /dev/hugepages
should be removed since it is not supported.</p>
<h3 id="building-from-a-local-tree">Building from a Local Tree<a class="headerlink" href="#building-from-a-local-tree" title="Permanent link">&para;</a></h3>
<p>To build from a local tree stored on the host, a volume must be created to share
the source tree with the Docker container. To do so, execute the following
command to create a docker image without checking out the DAOS source tree:</p>
<pre><code class="bash">$ docker build -t daos -f utils/docker/Dockerfile.centos.7 --build-arg NOBUILD=1 .
</code></pre>

<p>Then create a container that can access the local DAOS source tree:</p>
<pre><code class="bash">$ docker run -it -d --privileged --name server \
        -v ${daospath}:/home/daos/daos:Z \
        -v /dev/hugepages:/dev/hugepages \
        daos
</code></pre>

<p>${daospath} should be replaced with the full path to your DAOS source tree.
As mentioned above, the export of /dev/hugepages should be removed if the
host is not a Linux system.</p>
<p>Then execute the following command to build and install DAOS in the
container:</p>
<pre><code class="bash">$ docker exec server scons --build-deps=yes install PREFIX=/usr
</code></pre>

<h3 id="simple-docker-setup">Simple Docker Setup<a class="headerlink" href="#simple-docker-setup" title="Permanent link">&para;</a></h3>
<p>The <code>daos_server_local.yml</code> configuration file sets up a simple local DAOS
system with a single server instance running in the container. By default, it
uses 4GB of DRAM to emulate persistent memory and 16GB of bulk storage under
/tmp. The storage size can be changed in the yaml file if necessary.</p>
<p>The DAOS service can be started in the docker container as follows:</p>
<pre><code class="bash">$ docker exec server mkdir /var/run/daos_server
$ docker exec server daos_server start \
        -o /home/daos/daos/utils/config/examples/daos_server_local.yml
</code></pre>

<p>Once started, the DAOS server waits for the administrator to format the system.
This can be triggered in a different shell, using the following command:</p>
<pre><code class="bash">$ docker exec server dmg -i storage format
</code></pre>

<p>Upon successful completion of the format, the storage engine is started, and pools
can be created using the daos admin tool (see next section).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please make sure that the uio_pci_generic module is loaded.</p>
</div>
<p>For more advanced configurations involving SCM, SSD or a real fabric, please
refer to the next section.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../hardware/" title="Hardware Requirements" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Hardware Requirements
              </span>
            </div>
          </a>
        
        
          <a href="../deployment/" title="System Deployment" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                System Deployment
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>