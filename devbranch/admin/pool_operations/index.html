



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Distributed Asynchronous Object Storage">
      
      
        <link rel="canonical" href="http://daos.io/admin/pool_operations/">
      
      
        <meta name="author" content="DAOS Project">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-4.6.3">
    
    
      
        <title>Pool Operations - DAOS v2.0 - dev</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CUbuntu+Mono&display=fallback">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
<link rel="stylesheet" href="../../assets/fonts/material-icons.css">
<link href="../../css/bootstrap-4.4.1.css" rel="stylesheet" type="text/css">
<link href="../../assets/stylesheets/styles_1.css" rel="stylesheet" type="text/css">
</head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#pool-operations" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://daos.io" title="DAOS v2.0 - dev" aria-label="DAOS v2.0 - dev" class="md-header-nav__button md-logo"><img src="../../assets/images/daos_logo_wh.png" width="50"/>
</a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              DAOS v2.0 - dev
            </span>
            <span class="md-header-nav__topic">
              
                Pool Operations
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/daos-stack/daos/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    daos-stack/daos
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../overview/terminology/" class="md-tabs__link">
          Architecture Overview
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../QSG/setup/" class="md-tabs__link">
          Installation and Setup
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../hardware/" class="md-tabs__link md-tabs__link--active">
          Administration Guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../user/workflow/" class="md-tabs__link">
          User Guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../QSG/autotest/" class="md-tabs__link">
          DAOS Test and Benchmarking
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../release/release_notes_v2_0/" class="md-tabs__link">
          Releases
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../dev/development/" class="md-tabs__link">
          Developer Zone
        </a>
      
    </li>
  

      
        
      
        
      
        
      
        
      
    </ul>
  </div></nav>
	 <section>
    <div class="dropdown show">
      <div class="dropdown show col-xl-12"> <a class="btn btn-sm dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> DAOS Version</a>
        <div class="dropdown-menu"> <a class="dropdown-header">Select Version</a> <a class="dropdown-item disabled" href="../../devbranch/index.html">Dev Branch</a> <a class="dropdown-item" href="../../../index.html">1.2</a><a class="dropdown-item" href="../../v1.0/index.html">1.0</a> </div>
      </div>
    </div>
  </section>
  <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="http://daos.io" title="DAOS v2.0 - dev" class="md-nav__button md-logo">
      
        <img alt="logo" src="../../graph/logo.png" width="48" height="48">
      
    </a>
    DAOS v2.0 - dev
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/daos-stack/daos/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    daos-stack/daos
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Architecture Overview
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Architecture Overview
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/terminology/" title="Terminology" class="md-nav__link">
      Terminology
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/storage/" title="Storage Model" class="md-nav__link">
      Storage Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/transaction/" title="Transaction Model" class="md-nav__link">
      Transaction Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/fault/" title="Fault Model" class="md-nav__link">
      Fault Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/security/" title="Security Model" class="md-nav__link">
      Security Model
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Installation and Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Installation and Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../QSG/setup/" title="DAOS CentOS Setup" class="md-nav__link">
      DAOS CentOS Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../QSG/suse_setup/" title="DAOS openSUSE Setup" class="md-nav__link">
      DAOS openSUSE Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../QSG/tour/" title="DAOS Admin/Client Tools" class="md-nav__link">
      DAOS Admin/Client Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../QSG/test_index/" title="DAOS Test and Benchmarking" class="md-nav__link">
      DAOS Test and Benchmarking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://wiki.hpdd.intel.com/display/DC/DAOS+IO-500+Instructions" title="IO500 Setup" class="md-nav__link">
      IO500 Setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Administration Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Administration Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../hardware/" title="Hardware Requirements" class="md-nav__link">
      Hardware Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../installation/" title="Software Installation" class="md-nav__link">
      Software Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../predeployment_check/" title="Pre-deployment Checklist" class="md-nav__link">
      Pre-deployment Checklist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../deployment/" title="System Deployment" class="md-nav__link">
      System Deployment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../administration/" title="System Administration" class="md-nav__link">
      System Administration
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Pool Operations
      </label>
    
    <a href="./" title="Pool Operations" class="md-nav__link md-nav__link--active">
      Pool Operations
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pool-creationdestroy" class="md-nav__link">
    Pool Creation/Destroy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pool-properties" class="md-nav__link">
    Pool Properties
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#properties-management" class="md-nav__link">
    Properties Management
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tiering_uns/" title="Tiering and Unified Namespace" class="md-nav__link">
      Tiering and Unified Namespace
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../performance_tuning/" title="Performance Tuning" class="md-nav__link">
      Performance Tuning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../utilities_examples/" title="Utilities and Usage Examples" class="md-nav__link">
      Utilities and Usage Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../env_variables/" title="Environment Variables" class="md-nav__link">
      Environment Variables
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/workflow/" title="Workflow" class="md-nav__link">
      Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/container/" title="Container Management" class="md-nav__link">
      Container Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/filesystem/" title="File System" class="md-nav__link">
      File System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/mpi-io/" title="MPI-IO Support" class="md-nav__link">
      MPI-IO Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/hdf5/" title="HDF5 Support" class="md-nav__link">
      HDF5 Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/spark/" title="Spark and Hadoop" class="md-nav__link">
      Spark and Hadoop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/datamover/" title="Data Mover" class="md-nav__link">
      Data Mover
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/interface/" title="Native Programming Interface" class="md-nav__link">
      Native Programming Interface
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      DAOS Test and Benchmarking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        DAOS Test and Benchmarking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../QSG/autotest/" title="Run DAOS Autotest" class="md-nav__link">
      Run DAOS Autotest
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../QSG/cartselftest/" title="Run CaRT Self_test" class="md-nav__link">
      Run CaRT Self_test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../QSG/runior/" title="Run IOR" class="md-nav__link">
      Run IOR
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../QSG/mdtest/" title="Run mdtest" class="md-nav__link">
      Run mdtest
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../QSG/dbench/" title="Run dbench" class="md-nav__link">
      Run dbench
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../QSG/datamover/" title="Datamover test" class="md-nav__link">
      Datamover test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Releases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Releases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/release_notes_v2_0/" title="Release Notes v2.0" class="md-nav__link">
      Release Notes v2.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/support_matrix/" title="Support Matrix" class="md-nav__link">
      Support Matrix
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Developer Zone
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Developer Zone
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/development/" title="Dev Environment" class="md-nav__link">
      Dev Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://github.com/daos-stack/daos/blob/master/src/README.md" title="DAOS Internals" class="md-nav__link">
      DAOS Internals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../html/index.html" title="DAOS API Documentation" class="md-nav__link">
      DAOS API Documentation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://wiki.hpdd.intel.com" title="Community Wiki" class="md-nav__link">
      Community Wiki
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://wiki.hpdd.intel.com/display/DC/Roadmap/" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://daos.groups.io/g/daos" title="Mailing list" class="md-nav__link">
      Mailing list
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://jira.hpdd.intel.com/projects/DAOS" title="Issue tracker" class="md-nav__link">
      Issue tracker
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pool-creationdestroy" class="md-nav__link">
    Pool Creation/Destroy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pool-properties" class="md-nav__link">
    Pool Properties
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#properties-management" class="md-nav__link">
    Properties Management
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/daos-stack/daos/edit/master/docs/admin/pool_operations.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="pool-operations">Pool Operations<a class="headerlink" href="#pool-operations" title="Permanent link">&para;</a></h1>
<p>A DAOS pool is a storage reservation that can span any storage nodes and
is managed by the administrator. The amount of space allocated to a pool
is decided at creation time and can eventually be expanded through the
management interface or the <code>dmg</code> utility.</p>
<h2 id="pool-creationdestroy">Pool Creation/Destroy<a class="headerlink" href="#pool-creationdestroy" title="Permanent link">&para;</a></h2>
<p>A DAOS pool can be created and destroyed through the <code>dmg</code> utility.</p>
<p><strong>To create a pool labeled <code>tank</code>:</strong></p>
<pre><code class="bash">$ dmg pool create --size=NTB tank
</code></pre>

<p>This command creates a pool labeled <code>tank</code> distributed across the DAOS servers
with a target size on each server that is comprised of N TB of NVMe storage
and N * 0.06 (i.e. 6% of NVMe) of SCM storage. The default SCM:NVMe ratio
may be adjusted at pool creation time as described below.</p>
<p>The UUID allocated to the newly created pool is printed to stdout
as well as the pool service replica ranks.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The --scm-size and --nvme-size options still exist, but should be
considered deprecated and will likely be removed in a future release.</p>
</div>
<p>The label must consist of alphanumeric characters, colon (':'), period ('.')
or underscore ('_'). The maximum length is set to 127 characters.</p>
<pre><code class="bash">$ dmg pool create --help
...

[create command options]
      -g, --group=     DAOS pool to be owned by given group, format name@domain
      -u, --user=      DAOS pool to be owned by given user, format name@domain
      -p, --label=     Unique label for pool
      -P, --properties= Pool properties to be set
      -a, --acl-file=  Access Control List file path for DAOS pool
      -z, --size=      Total size of DAOS pool (auto)
      -t, --scm-ratio= Percentage of SCM:NVMe for pool storage (auto) (default: 6)
      -k, --nranks=    Number of ranks to use (auto)
      -v, --nsvc=      Number of pool service replicas
      -s, --scm-size=  Per-server SCM allocation for DAOS pool (manual)
      -n, --nvme-size= Per-server NVMe allocation for DAOS pool (manual)
      -r, --ranks=     Storage server unique identifiers (ranks) for DAOS pool
</code></pre>

<p>The typical output of this command is as follows:</p>
<pre><code class="bash">$ dmg pool create --size 50GB --label tank
Creating DAOS pool with automatic storage allocation: 50 GB NVMe + 6.00% SCM
Pool created with 6.00% SCM/NVMe ratio
-----------------------------------------
  UUID          : 8a05bf3a-a088-4a77-bb9f-df989fce7cc8
  Replica Ranks : [1-3]
  Target Ranks  : [0-15]
  Size          : 50 GB
  SCM           : 3.0 GB (188 MB / rank)
  NVMe          : 50 GB (3.2 GB / rank)
</code></pre>

<p>This created a pool with UUID 8a05bf3a-a088-4a77-bb9f-df989fce7cc8,
with redundancy enabled by default (pool service replicas on ranks 1-3).</p>
<p>If no redundancy is desired, use --nsvc=1 in order to specify that only
a single pool service replica should be created.</p>
<p><strong>To evict handles/connections to a pool:</strong></p>
<pre><code class="bash">$ dmg pool evict tank
Pool-evict command succeeded
</code></pre>

<p><strong>To see a list of the pools in your DAOS system:</strong></p>
<pre><code class="bash">$ dmg pool list
UUID                                 Label Svc Replicas
----                                 ----- ------------
a0d17ecc-50d4-4bef-9908-01911e56827e test  0
93f63cea-98ca-4f8e-bdcf-2a9dde11c602 test1 0
8a05bf3a-a088-4a77-bb9f-df989fce7cc8 tank  1-3
</code></pre>

<p>This returns a table of pool UUIDs, labels and the ranks of their pool service
replicas.</p>
<p><strong>To destroy a pool:</strong></p>
<pre><code class="bash">$ dmg pool destroy tank
Pool-destroy command succeeded
</code></pre>

<h2 id="pool-properties">Pool Properties<a class="headerlink" href="#pool-properties" title="Permanent link">&para;</a></h2>
<p>Properties are predefined parameters that the administrator can tune to control
the behavior of a pool.</p>
<h3 id="properties-management">Properties Management<a class="headerlink" href="#properties-management" title="Permanent link">&para;</a></h3>
<p>Current properties of an existing pool can be retrieved via the <code>dmg pool
get-prop</code> command line.</p>
<pre><code class="bash">$ dmg pool get-prop tank
Pool 8a05bf3a-a088-4a77-bb9f-df989fce7cc8 properties:
Name                            Value
----                            -----
EC cell size (ec_cell_sz)       1.0 MiB
Pool label (label)              tank
Reclaim strategy (reclaim)      lazy
Self-healing policy (self_heal) exclude
Rebuild space ratio (space_rb)  0%
</code></pre>

<p>All properties can be specified when creating the pool.</p>
<pre><code class="bash">$ dmg pool create --size 50GB --label tank2 --properties reclaim:disabled
Creating DAOS pool with automatic storage allocation: 50 GB NVMe + 6.00% SCM
Pool created with 100.00% SCM/NVMe ratio
-----------------------------------------
  UUID          : 1f265216-5877-4302-ad29-aa0f90df3f86
  Service Ranks : 0
  Storage Ranks : [0-1]
  Total Size    : 50 GB
  SCM           : 50 GB (25 GB / rank)
  NVMe          : 0 B (0 B / rank)

$ dmg pool get-prop tank2
Pool 1f265216-5877-4302-ad29-aa0f90df3f86 properties:
Name                            Value
----                            -----
EC cell size (ec_cell_sz)       1.0 MiB
Pool label (label)              tank2
Reclaim strategy (reclaim)      disabled
Self-healing policy (self_heal) exclude
Rebuild space ratio (space_rb)  0%
</code></pre>

<p>Some properties can be modified after pool creation via the <code>set-prop</code> option.</p>
<pre><code class="bash">$ dmg pool set-prop tank2 reclaim:lazy
pool set-prop succeeded

$ dmg pool get-prop tank2 reclaim
Pool 1f265216-5877-4302-ad29-aa0f90df3f86 properties:
Name                       Value
----                       -----
Reclaim strategy (reclaim) lazy
</code></pre>

<h1 id="reclaim-strategy-reclaim">Reclaim Strategy (reclaim)<a class="headerlink" href="#reclaim-strategy-reclaim" title="Permanent link">&para;</a></h1>
<p>DAOS is a versioned object store that tags every I/O with an epoch number.
This versioning mechanism is the baseline for multi-version concurrency control and
snapshot support. Over time, unused versions need to be reclaimed in order to
release storage space and also simplify the metadata index. This process is
called aggregation.</p>
<p>The reclaim property defines what strategy to use to reclaimed unused version.
Three options are supported:</p>
<ul>
<li>"lazy"     : Trigger aggregation only when there is no IO activities or SCM free space is under pressure (default strategy)</li>
<li>"time"     : Trigger aggregation regularly despite of IO activities.</li>
<li>"disabled" : Never trigger aggregation. The system will eventually run out of space even if data is being deleted.</li>
</ul>
<h1 id="self-healing-policy-self_heal">Self-healing Policy (self_heal)<a class="headerlink" href="#self-healing-policy-self_heal" title="Permanent link">&para;</a></h1>
<p>This property defines whether a failing node is automatically evicted from the
pool. Once excluded, the self-healing mechasnism will be triggered to restore
the pool data redundancy on the surviving storage nodes.</p>
<h1 id="reserve-space-space_rb">Reserve Space (space_rb)<a class="headerlink" href="#reserve-space-space_rb" title="Permanent link">&para;</a></h1>
<p>This property defines the percentage of total space reserved on each storage
node for self-healing purpose. The reserved space cannot be consumed by the
applications.</p>
<h1 id="ec-cell-size-ec_cell_sz">EC Cell Size (ec_cell_sz)<a class="headerlink" href="#ec-cell-size-ec_cell_sz" title="Permanent link">&para;</a></h1>
<p>This property defines the default erasure code cell size inherited to DAOS
containers. The value is typically between 32K and 1MB.</p>
<h2 id="access-control-lists">Access Control Lists<a class="headerlink" href="#access-control-lists" title="Permanent link">&para;</a></h2>
<p>Client user and group access for pools are controlled by
<a href="https://daos-stack.github.io/overview/security/#access-control-lists">Access Control Lists (ACLs)</a>.
Most pool-related tasks are performed using the DMG administrative tool, which
is authenticated by the administrative certificate rather than user-specific
credentials.</p>
<p>Access-controlled client pool accesses include:</p>
<ul>
<li>
<p>Connecting to the pool.</p>
</li>
<li>
<p>Querying the pool.</p>
</li>
<li>
<p>Creating containers in the pool.</p>
</li>
<li>
<p>Deleting containers in the pool.</p>
</li>
</ul>
<p>This is reflected in the set of supported
<a href="https://daos-stack.github.io/overview/security/#permissions">pool permissions</a>.</p>
<p>A user must be able to connect to the pool in order to access any containers
inside, regardless of their permissions on those containers.</p>
<h3 id="ownership">Ownership<a class="headerlink" href="#ownership" title="Permanent link">&para;</a></h3>
<p>Pool ownership conveys no special privileges for access control decisions. All
desired privileges of the owner-user (<code>OWNER@</code>) and owner-group (<code>GROUP@</code>) must
be explicitly defined by an administrator in the pool ACL.</p>
<h3 id="acl-at-pool-creation">ACL at Pool Creation<a class="headerlink" href="#acl-at-pool-creation" title="Permanent link">&para;</a></h3>
<p>To create a pool with a custom ACL:</p>
<pre><code class="bash">$ dmg pool create --size &lt;size&gt; --acl-file &lt;path&gt; &lt;pool_label&gt;
</code></pre>

<p>The ACL file format is detailed in <a href="https://daos-stack.github.io/overview/security/#acl-file">here</a>.</p>
<h3 id="displaying-acl">Displaying ACL<a class="headerlink" href="#displaying-acl" title="Permanent link">&para;</a></h3>
<p>To view a pool's ACL:</p>
<pre><code class="bash">$ dmg pool get-acl --acl-file &lt;path&gt; &lt;pool_label&gt;
</code></pre>

<p>The output is in the same string format used in the ACL file during creation,
with one Access Control Entry (i.e., ACE) per line.</p>
<p>An example output is presented below:</p>
<pre><code class="bash">$ dmg pool get-acl tank
# Owner: jlombard@
# Owner Group: jlombard@
# Entries:
A::OWNER@:rw
A::bob@:r
A:G:GROUP@:rw
</code></pre>

<h3 id="modifying-acl">Modifying ACL<a class="headerlink" href="#modifying-acl" title="Permanent link">&para;</a></h3>
<p>For all of these commands using an ACL file, the ACL file must be in the format
noted above for container creation.</p>
<h4 id="overwriting-acl">Overwriting ACL<a class="headerlink" href="#overwriting-acl" title="Permanent link">&para;</a></h4>
<p>To replace a pool's ACL with a new ACL:</p>
<pre><code class="bash">$ dmg pool overwrite-acl --pool &lt;UUID&gt; --acl-file &lt;path&gt;
</code></pre>

<h4 id="adding-and-updating-aces">Adding and Updating ACEs<a class="headerlink" href="#adding-and-updating-aces" title="Permanent link">&para;</a></h4>
<p>To add or update multiple entries in an existing pool ACL:</p>
<pre><code class="bash">$ dmg pool update-acl --acl-file &lt;path&gt; &lt;pool_label&gt;
</code></pre>

<p>To add or update a single entry in an existing pool ACL:</p>
<pre><code class="bash">$ dmg pool update-acl --entry &lt;ACE&gt; &lt;pool_label&gt;
</code></pre>

<p>If there is no existing entry for the principal in the ACL, the new entry is
added to the ACL. If there is already an entry for the principal, that entry
is replaced with the new one.</p>
<p>For instance:</p>
<pre><code class="bash">$ dmg pool update-acl -e A::kelsey@:r tank
Pool-update-ACL command succeeded, UUID: 8a05bf3a-a088-4a77-bb9f-df989fce7cc8
# Owner: jlombard@
# Owner Group: jlombard@
# Entries:
A::OWNER@:rw
A::bob@:r
A::kelsey@:r
A:G:GROUP@:rw
</code></pre>

<h4 id="removing-an-ace">Removing an ACE<a class="headerlink" href="#removing-an-ace" title="Permanent link">&para;</a></h4>
<p>To delete an entry for a given principal in an existing pool ACL:</p>
<pre><code class="bash">$ dmg pool delete-acl --principal &lt;principal&gt; &lt;pool_label&gt;
</code></pre>

<p>The principal corresponds to the principal portion of an ACE that was
set during pool creation or a previous pool ACL operation. For the delete
operation, the principal argument must be formatted as follows:</p>
<ul>
<li>Named user: <code>u:username@</code></li>
<li>Named group: <code>g:groupname@</code></li>
<li>Special principals: <code>OWNER@</code>, <code>GROUP@</code>, and <code>EVERYONE@</code></li>
</ul>
<p>The entry for that principal will be completely removed. This does not always
mean that the principal will have no access. Rather, their access to the pool
will be decided based on the remaining ACL rules.</p>
<h2 id="pool-query">Pool Query<a class="headerlink" href="#pool-query" title="Permanent link">&para;</a></h2>
<p>The pool query operation retrieves information (i.e., the number of targets,
space usage, rebuild status, property list, and more) about a created pool. It
is integrated into the dmg utility.</p>
<p><strong>To query a pool:</strong></p>
<pre><code class="bash">$ dmg pool query tank
</code></pre>

<p>Below is the output for a pool created with SCM space only.</p>
<pre><code class="bash">    pool=47293abe-aa6f-4147-97f6-42a9f796d64a
    Pool 47293abe-aa6f-4147-97f6-42a9f796d64a, ntarget=64, disabled=8
    Pool space info:
    - Target(VOS) count:56
    - SCM:
        Total size: 28GB
        Free: 28GB, min:505MB, max:512MB, mean:512MB
    - NVMe:
        Total size: 0
        Free: 0, min:0, max:0, mean:0
    Rebuild done, 10 objs, 1026 recs
</code></pre>

<p>The total and free sizes are the sum across all the targets whereas
min/max/mean gives information about individual targets. A min value
close to 0 means that one target is running out of space.</p>
<p>NB: the Versioning Object Store (VOS) may reserve a portion of the
SCM and NVMe allocations to mitigate fragmentation and for background
operations (e.g., aggregation, garbage collection). The amount of storage
set aside depends on the size of the target, and may take up 2+ GB.
Therefore, out of space conditions may occur even while pool query may not
reveal min approaching zero.</p>
<p>The example below shows a rebuild in progress and NVMe space allocated.</p>
<pre><code class="bash">    pool=95886b8b-7eb8-454d-845c-fc0ae0ba5671
    Pool 95886b8b-7eb8-454d-845c-fc0ae0ba5671, ntarget=64, disabled=8
    Pool space info:
    - Target(VOS) count:56
    - SCM:
        Total size: 28GB
        Free: 28GB, min:470MB, max:512MB, mean:509MB
    - NVMe:
        Total size: 56GB
        Free: 28GB, min:470MB, max:512MB, mean:509MB
    Rebuild busy, 75 objs, 9722 recs
</code></pre>

<p>Additional status and telemetry data are planned to be exported through
management tools and will be documented here once available.</p>
<h2 id="pool-modifications">Pool Modifications<a class="headerlink" href="#pool-modifications" title="Permanent link">&para;</a></h2>
<h3 id="exclusion-self-healing">Exclusion &amp; Self-healing<a class="headerlink" href="#exclusion-self-healing" title="Permanent link">&para;</a></h3>
<p>An operator can exclude one or more targets from a specific DAOS pool using the rank
the target resides on as well as the target idx on that rank. If a target idx list is
not provided then all targets on the rank will be excluded. Excluding a target will
automatically start the rebuild process.</p>
<p><strong>To exclude a target from a pool:</strong></p>
<pre><code class="bash">$ dmg pool exclude --rank=${rank} --target-idx=${idx1},${idx2},${idx3} &lt;pool_label&gt;
</code></pre>

<p>The pool target exclude command accepts 2 parameters:</p>
<ul>
<li>The rank of the target(s) to be excluded.</li>
<li>The target Indices of the targets to be excluded from that rank (optional).</li>
</ul>
<h3 id="drain">Drain<a class="headerlink" href="#drain" title="Permanent link">&para;</a></h3>
<p>Alternatively when an operator would like to remove one or more pool targets
without the system operating in degraded mode Drain can be used. A pool drain operation will
initiate rebuild without excluding the designated target until after the rebuild is complete.
This allows the target(s) drained to continue to perform I/O while the rebuild
operation is ongoing. Drain additionally enables non-replicated data to be
rebuilt onto another target whereas in a conventional failure scenario non-replicated
data would not be integrated into a rebuild and would be lost.</p>
<p><strong>To drain a target from a pool:</strong></p>
<pre><code class="bash">$ dmg pool drain --rank=${rank} --target-idx=${idx1},${idx2},${idx3} &lt;pool_label&gt;
</code></pre>

<p>The pool target drain command accepts 2 parameters:</p>
<ul>
<li>The rank of the target(s) to be drained.</li>
<li>The target Indices of the targets to be drained from that rank (optional).</li>
</ul>
<h3 id="reintegration">Reintegration<a class="headerlink" href="#reintegration" title="Permanent link">&para;</a></h3>
<p>After a target failure an operator can fix the underlying issue and reintegrate the
affected targets to restore the pool to its original state. The operator can either
reintegrate specific targets for a rank by supplying a target idx list, or reintegrate
an entire rank by omitting the list.</p>
<pre><code>$ dmg pool reintegrate --pool=${puuid} --rank=${rank} --target-idx=${idx1},${idx2},${idx3}
</code></pre>

<p>The pool reintegrate command accepts 3 parameters:</p>
<ul>
<li>The pool UUID of the pool that the targets will be reintegrated into.</li>
<li>The rank of the affected targets.</li>
<li>The target Indices of the targets to be reintegrated on that rank (optional).</li>
</ul>
<p>When rebuild is triggered it will list the operations and their related targets by their rank ID
and target index.</p>
<pre><code>Target (rank 5 idx 0) is down.
Target (rank 5 idx 1) is down.
...
(rank 5 idx 0) is excluded.
(rank 5 idx 1) is excluded.
</code></pre>

<p>These should be the same values used when reintegrating the targets.</p>
<pre><code>$ dmg pool reintegrate --rank=5 --target-idx=0,1 &lt;pool_label&gt;
</code></pre>

<h2 id="pool-extension">Pool Extension<a class="headerlink" href="#pool-extension" title="Permanent link">&para;</a></h2>
<h3 id="addition-space-rebalancing">Addition &amp; Space Rebalancing<a class="headerlink" href="#addition-space-rebalancing" title="Permanent link">&para;</a></h3>
<p>Full Support for online target addition and automatic space rebalancing is
planned for a future release and will be documented here once available.</p>
<p>Until then the following command(s) are placeholders and offer limited
functionality related to Online Server Addition/Rebalancing operations.</p>
<p>An operator can choose to extend a pool to include ranks not currently in the
pool.
This will automatically trigger a server rebalance operation where objects
within the extended pool will be rebalanced across the new storage.</p>
<pre><code>$ dmg pool extend --pool=${puuid} --ranks=${rank1},${rank2}... &lt;pool_label&gt;
</code></pre>

<p>The pool extend command accepts one required parameter which is a comma
separated list of server ranks to include in the pool.</p>
<p>The pool rebalance operation will work most efficiently when the pool is
extended to its desired size in a single operation, as opposed to multiple,
small extensions.</p>
<h3 id="resize">Resize<a class="headerlink" href="#resize" title="Permanent link">&para;</a></h3>
<p>Support for quiescent pool resize (changing capacity used on each storage node
without adding new ones) is currently not supported and is under consideration.</p>
<h2 id="pool-catastrophic-recovery">Pool Catastrophic Recovery<a class="headerlink" href="#pool-catastrophic-recovery" title="Permanent link">&para;</a></h2>
<p>A DAOS pool is instantiated on each target by a set of pmemobj files
managed by PMDK and SPDK blobs on SSDs. Tools to verify and repair this
persistent data is scheduled for DAOS v2.4 and will be documented here
once available.</p>
<p>Meanwhile, PMDK provides a recovery tool (i.e., pmempool check) to verify
and possibly repair a pmemobj file. As discussed in the previous section, the
rebuild status can be consulted via the pool query and will be expanded
with more information.</p>
<h2 id="recovering-container-ownership">Recovering Container Ownership<a class="headerlink" href="#recovering-container-ownership" title="Permanent link">&para;</a></h2>
<p>Typically users are expected to manage their containers. However, in the event
that a container is orphaned and no users have the privileges to change the
ownership, an administrator can transfer ownership of the container to a new
user and/or group.</p>
<p>To change the owner user:</p>
<pre><code class="bash">$ dmg cont set-owner --pool &lt;UUID&gt; --cont &lt;UUID&gt; --user &lt;owner-user&gt;
</code></pre>

<p>To change the owner group:</p>
<pre><code class="bash">$ dmg cont set-owner --pool &lt;UUID&gt; --cont &lt;UUID&gt; --group &lt;owner-group&gt;
</code></pre>

<p>The user and group names are case sensitive and must be formatted as
<a href="https://daos-stack.github.io/overview/security/#principal">DAOS ACL user/group principals</a>.</p>
<p>Because this is an administrative action, it does not require the administrator
to have any privileges assigned in the container ACL.</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../administration/" title="System Administration" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                System Administration
              </span>
            </div>
          </a>
        
        
          <a href="../tiering_uns/" title="Tiering and Unified Namespace" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Tiering and Unified Namespace
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
<script src="../../assets/javascripts/application.c33a9706.js"></script> 
<script src="../../js/jquery-3.4.1.min.js"></script> 
<script src="../../js/popper.min.js"></script> 
<script src="../../js/bootstrap-4.4.1.js"></script> 
<script>app.initialize({version:"1.1.2",url:{base:".."}})</script>
</body>
</html>