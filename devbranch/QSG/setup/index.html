



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Distributed Asynchronous Object Storage">
      
      
        <link rel="canonical" href="http://daos.io/QSG/setup/">
      
      
        <meta name="author" content="DAOS Project">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-4.6.3">
    
    
      
        <title>DAOS CentOS Setup - DAOS v2.0 - dev</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CUbuntu+Mono&display=fallback">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
<link rel="stylesheet" href="../../assets/fonts/material-icons.css">
<link href="../../css/bootstrap-4.4.1.css" rel="stylesheet" type="text/css">
<link href="../../assets/stylesheets/styles_1.css" rel="stylesheet" type="text/css">
</head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="blue">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#daos-set-up-on-centos" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://daos.io" title="DAOS v2.0 - dev" aria-label="DAOS v2.0 - dev" class="md-header-nav__button md-logo"><img src="../../assets/images/daos_logo_wh.png" width="50"/>
</a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              DAOS v2.0 - dev
            </span>
            <span class="md-header-nav__topic">
              
                DAOS CentOS Setup
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/daos-stack/daos/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    daos-stack/daos
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." class="md-tabs__link">
        Home
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../overview/terminology/" class="md-tabs__link">
          Architecture Overview
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="./" class="md-tabs__link md-tabs__link--active">
          Installation and Setup
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../admin/hardware/" class="md-tabs__link">
          Administration Guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../user/workflow/" class="md-tabs__link">
          User Guide
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../autotest/" class="md-tabs__link">
          DAOS Test and Benchmarking
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../release/release_notes_v2_0/" class="md-tabs__link">
          Releases
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../dev/development/" class="md-tabs__link">
          Developer Zone
        </a>
      
    </li>
  

      
        
      
        
      
        
      
        
      
    </ul>
  </div></nav>
	 <section>
    <div class="dropdown show">
      <div class="dropdown show col-xl-12"> <a class="btn btn-sm dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> DAOS Version</a>
        <div class="dropdown-menu"> <a class="dropdown-header">Select Version</a> <a class="dropdown-item disabled" href="../../devbranch/index.html">Dev Branch</a> <a class="dropdown-item" href="../../../index.html">1.2</a><a class="dropdown-item" href="../../v1.0/index.html">1.0</a> </div>
      </div>
    </div>
  </section>
  <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="http://daos.io" title="DAOS v2.0 - dev" class="md-nav__button md-logo">
      
        <img alt="logo" src="../../graph/logo.png" width="48" height="48">
      
    </a>
    DAOS v2.0 - dev
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/daos-stack/daos/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    daos-stack/daos
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Architecture Overview
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Architecture Overview
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/terminology/" title="Terminology" class="md-nav__link">
      Terminology
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/storage/" title="Storage Model" class="md-nav__link">
      Storage Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/transaction/" title="Transaction Model" class="md-nav__link">
      Transaction Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/fault/" title="Fault Model" class="md-nav__link">
      Fault Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../overview/security/" title="Security Model" class="md-nav__link">
      Security Model
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Installation and Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Installation and Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        DAOS CentOS Setup
      </label>
    
    <a href="./" title="DAOS CentOS Setup" class="md-nav__link md-nav__link--active">
      DAOS CentOS Setup
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rpm-installation" class="md-nav__link">
    RPM Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hardware-provisioning" class="md-nav__link">
    Hardware Provisioning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generate-certificates" class="md-nav__link">
    Generate certificates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-configuration-files" class="md-nav__link">
    Create Configuration Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-the-daos-servers" class="md-nav__link">
    Start the DAOS Servers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-the-daos-agents" class="md-nav__link">
    Start the DAOS Agents
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../suse_setup/" title="DAOS openSUSE Setup" class="md-nav__link">
      DAOS openSUSE Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tour/" title="DAOS Admin/Client Tools" class="md-nav__link">
      DAOS Admin/Client Tools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../test_index/" title="DAOS Test and Benchmarking" class="md-nav__link">
      DAOS Test and Benchmarking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://wiki.hpdd.intel.com/display/DC/DAOS+IO-500+Instructions" title="IO500 Setup" class="md-nav__link">
      IO500 Setup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Administration Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Administration Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/hardware/" title="Hardware Requirements" class="md-nav__link">
      Hardware Requirements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/installation/" title="Software Installation" class="md-nav__link">
      Software Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/predeployment_check/" title="Pre-deployment Checklist" class="md-nav__link">
      Pre-deployment Checklist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/deployment/" title="System Deployment" class="md-nav__link">
      System Deployment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/administration/" title="System Administration" class="md-nav__link">
      System Administration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/pool_operations/" title="Pool Operations" class="md-nav__link">
      Pool Operations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/tiering_uns/" title="Tiering and Unified Namespace" class="md-nav__link">
      Tiering and Unified Namespace
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/performance_tuning/" title="Performance Tuning" class="md-nav__link">
      Performance Tuning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/utilities_examples/" title="Utilities and Usage Examples" class="md-nav__link">
      Utilities and Usage Examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../admin/env_variables/" title="Environment Variables" class="md-nav__link">
      Environment Variables
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      User Guide
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        User Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/workflow/" title="Workflow" class="md-nav__link">
      Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/container/" title="Container Management" class="md-nav__link">
      Container Management
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/filesystem/" title="File System" class="md-nav__link">
      File System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/mpi-io/" title="MPI-IO Support" class="md-nav__link">
      MPI-IO Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/hdf5/" title="HDF5 Support" class="md-nav__link">
      HDF5 Support
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/spark/" title="Spark and Hadoop" class="md-nav__link">
      Spark and Hadoop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/datamover/" title="Data Mover" class="md-nav__link">
      Data Mover
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../user/interface/" title="Native Programming Interface" class="md-nav__link">
      Native Programming Interface
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      DAOS Test and Benchmarking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        DAOS Test and Benchmarking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../autotest/" title="Run DAOS Autotest" class="md-nav__link">
      Run DAOS Autotest
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cartselftest/" title="Run CaRT Self_test" class="md-nav__link">
      Run CaRT Self_test
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../runior/" title="Run IOR" class="md-nav__link">
      Run IOR
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mdtest/" title="Run mdtest" class="md-nav__link">
      Run mdtest
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dbench/" title="Run dbench" class="md-nav__link">
      Run dbench
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../datamover/" title="Datamover test" class="md-nav__link">
      Datamover test
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Releases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Releases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/release_notes_v2_0/" title="Release Notes v2.0" class="md-nav__link">
      Release Notes v2.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../release/support_matrix/" title="Support Matrix" class="md-nav__link">
      Support Matrix
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Developer Zone
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Developer Zone
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/development/" title="Dev Environment" class="md-nav__link">
      Dev Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../dev/contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="https://github.com/daos-stack/daos/blob/master/src/README.md" title="DAOS Internals" class="md-nav__link">
      DAOS Internals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../html/index.html" title="DAOS API Documentation" class="md-nav__link">
      DAOS API Documentation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://wiki.hpdd.intel.com" title="Community Wiki" class="md-nav__link">
      Community Wiki
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://wiki.hpdd.intel.com/display/DC/Roadmap/" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://daos.groups.io/g/daos" title="Mailing list" class="md-nav__link">
      Mailing list
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://jira.hpdd.intel.com/projects/DAOS" title="Issue tracker" class="md-nav__link">
      Issue tracker
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rpm-installation" class="md-nav__link">
    RPM Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hardware-provisioning" class="md-nav__link">
    Hardware Provisioning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generate-certificates" class="md-nav__link">
    Generate certificates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-configuration-files" class="md-nav__link">
    Create Configuration Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-the-daos-servers" class="md-nav__link">
    Start the DAOS Servers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-the-daos-agents" class="md-nav__link">
    Start the DAOS Agents
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/daos-stack/daos/edit/master/docs/QSG/setup.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="daos-set-up-on-centos">DAOS Set-Up on CentOS<a class="headerlink" href="#daos-set-up-on-centos" title="Permanent link">&para;</a></h1>
<p>The following instructions detail how to install, set up and start DAOS servers and clients on two or more nodes.  This document includes
instructions for CentOS. For setup instructions on OpenSuse, refer to the <a href="../suse_setup/">OpenSuse setup</a>.  
For more details reference the DAOS administration guide:
<a href="https://daos-stack.github.io/admin/hardware/">https://daos-stack.github.io/admin/hardware/</a></p>
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h2>
<p>The following steps require two or more hosts which will be divided up
into admin, client, and server roles.  One node can be used for both the
admin and client node.  All nodes must have:</p>
<ul>
<li>
<p>sudo access configured</p>
</li>
<li>
<p>password-less ssh configured</p>
</li>
<li>
<p>pdsh installed (or some other means of running multiple remote
    commands in parallel)</p>
</li>
</ul>
<p>In addition the server nodes should also have:</p>
<ul>
<li>
<p>an InfiniBand network adapter configured</p>
</li>
<li>
<p>one or more NVMe devices</p>
</li>
<li>
<p>IOMMU is enabled:</p>
<p><a href="https://daos-stack.github.io/admin/predeployment_check/#enable-iommu-optional">https://daos-stack.github.io/admin/predeployment_check/#enable-iommu-optional</a></p>
</li>
</ul>
<p>For the use of the commands outlined on this page the following shell
variables will need to be defined:</p>
<ul>
<li>
<p>ADMIN_NODE</p>
</li>
<li>
<p>CLIENT_NODES</p>
</li>
<li>
<p>SERVER_NODES</p>
</li>
<li>
<p>ALL_NODES</p>
</li>
</ul>
<p>For example, if you want to use node-1 as the admin node, node-2 and
node-3 as client nodes, and node-[4-6] as server nodes,
these variables would be defined as:</p>
<pre><code class="console">ADMIN\_NODE=node-1

CLIENT\_NODES=node-2,node-3

SERVER\_NODES=node-4,node-5,node-6

ALL\_NODES=\$ADMIN\_NODE,\$CLIENT\_NODES,\$SERVER\_NODES
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a client node is also serving as an admin node, exclude
<code>\$ADMIN\_NODE</code> from the <code>ALL\_NODES</code> assignment to prevent duplication.</p>
<p>For example:</p>
<p><code>ALL\_NODES=\$CLIENT\_NODES,\$SERVER\_NODES</code></p>
</div>
<h2 id="rpm-installation">RPM Installation<a class="headerlink" href="#rpm-installation" title="Permanent link">&para;</a></h2>
<p>In this section the required RPMs will be installed on each of the nodes
based upon their role.  Admin and client nodes require the installation
of the daos-client RPM and the server nodes require the installation of the
daos-server RPM.</p>
<ol>
<li>
<p>Configure access to the DAOS package repository at
    <a href="https://packages.daos.io/v1.2">https://packages.daos.io/v1.2</a>.</p>
<pre><code>pdsh -w \$ALL\_NODES \'sudo wget -O
/etc/yum.repos.d/daos-packages.repo
https://packages.daos.io/v1.2/CentOS7/packages/x86\_64/daos\_packages.repo\'
</code></pre>
</li>
<li>
<p>Import GPG key on all nodes:</p>
<pre><code>pdsh -w \$ALL\_NODES \'sudo rpm \--import
https://packages.daos.io/RPM-GPG-KEY\
</code></pre>
</li>
<li>
<p>Perform the additional steps:</p>
<pre><code>pdsh -w \$ALL\_NODES \'sudo yum install -y epel-release\'
</code></pre>
</li>
<li>
<p>Install the DAOS server RPMs on the server nodes:</p>
<pre><code>pdsh -w \$SERVER\_NODES \'sudo yum install -y daos-server\'
</code></pre>
</li>
<li>
<p>Install the DAOS client RPMs on the client and admin nodes:</p>
<pre><code>pdsh -w \$ALL\_NODES -x \$SERVER\_NODES \'sudo yum install -y
daos-client\'
</code></pre>
</li>
<li>
<p>(Optionally) Install the DAOS test RPMs on the client nodes -
    typically not required</p>
<pre><code>pdsh -w \$ALL\_NODES -x \$SERVER\_NODES \'sudo yum install -y
daos-tests\'
</code></pre>
</li>
</ol>
<h2 id="hardware-provisioning">Hardware Provisioning<a class="headerlink" href="#hardware-provisioning" title="Permanent link">&para;</a></h2>
<p>In this section, PMem (Intel(R) Optane(TM) persistent memory) and NVME
SSDs will be prepared and configured to be used by DAOS.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>PMem preparation is required once per DAOS installation.</p>
</div>
<ol>
<li>
<p>Prepare the pmem devices on Server nodes:</p>
<pre><code>daos\_server storage prepare \--scm-only
</code></pre>
<p>Sample Script:</p>
<pre><code>Preparing locally-attached SCM\...

Memory allocation goals for SCM will be changed and namespaces
modified, this will be a destructive operation. Please ensure
namespaces are unmounted and locally attached SCM &amp; NVMe devices are
not in use. Please be patient as it may take several minutes and
subsequent reboot maybe required.

Are you sure you want to continue? (yes/no)

yes

A reboot is required to process new SCM memory allocation goals.
</code></pre>
</li>
<li>
<p>Reboot the server node.</p>
</li>
<li>
<p>Run the prepare cmdline again:</p>
<pre><code>daos\_server storage prepare \--scm-only
</code></pre>
<p>Sample Script:</p>
<pre><code>Preparing locally-attached SCM\...
SCM namespaces:
SCM Namespace   Socket ID   Capacity
-------------   ---------   --------
pmem0           0           3.2 TB
pmem1           0           3.2 TB
</code></pre>
</li>
<li>
<p>Prepare the NVME devices on Server nodes:</p>
<pre><code>daos\_server storage prepare \--nvme-only -u root
Preparing locally-attached NVMe storage\...
</code></pre>
</li>
<li>
<p>Scan the available storage on the Server nodes:</p>
<pre><code>daos\_server storage scan
Scanning locally-attached storage\...

NVMe PCI        Model               FW Revision Socket ID   Capacity
--------        -----               ----------- ---------   --------
0000:5e:00.0    INTEL SSDPE2KE016T8 VDV10170    0           1.6 TB
0000:5f:00.0    INTEL SSDPE2KE016T8 VDV10170    0           1.6 TB
0000:81:00.0    INTEL SSDPED1K750GA E2010475    1           750 GB
0000:da:00.0    INTEL SSDPED1K750GA E2010475    1           750 GB

SCM Namespace   Socket ID   Capacity
-------------   ---------   --------
pmem0           0           3.2 TB
pmem1           1           3.2 TB
</code></pre>
</li>
</ol>
<h2 id="generate-certificates">Generate certificates<a class="headerlink" href="#generate-certificates" title="Permanent link">&para;</a></h2>
<p>In this section certificates will be generated and installed for
encrypting the DAOS control plane communications.</p>
<p>Administrative nodes require the following certificate files:</p>
<ul>
<li>
<p>CA root certificate (daosCA.crt) owned by the current user</p>
</li>
<li>
<p>Admin certificate (admin.crt) owned by the current user</p>
</li>
<li>
<p>Admin key (admin.key) owned by the current user</p>
</li>
</ul>
<p>Client nodes require the following certificate files:</p>
<ul>
<li>
<p>CA root certificate (daosCa.crt) owned by the current user</p>
</li>
<li>
<p>Agent certificate (agent.crt) owned by the daos_agent user</p>
</li>
<li>
<p>Agent key (agent.key) owned by the daos_agent user</p>
</li>
</ul>
<p>Server nodes require the following certificate files:</p>
<ul>
<li>
<p>CA root certificate (daosCA.crt) owned by the daos_server user</p>
</li>
<li>
<p>Server certificate (server.crt) owned by the daos_server user</p>
</li>
<li>
<p>Server key (server.key) owned by the daos_server user</p>
</li>
<li>
<p>A copy of the Client certificate (client.crt) owned by the
    daos_server user</p>
</li>
</ul>
<p>See
<a href="https://daos-stack.github.io/admin/deployment/#certificate-configuration">https://daos-stack.github.io/admin/deployment/#certificate-configuration</a>
for more informaation.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following commands are run from the <code>\$ADMIN\_NODE</code>.</p>
</div>
<ol>
<li>
<p>Generate a new set of certificates:</p>
<pre><code>cd /tmp
/usr/lib64/daos/certgen/gen\_certificates.sh
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These files should be protected from unauthorized access and preserved for future use.</p>
</div>
</li>
<li>
<p>Copy the certificates to a common location on each node in order to
    move them to the final location:</p>
<pre><code>pdsh -S -w \$ALL\_NODES -x \$(hostname -s) scp -r \$(hostname -s):/tmp/daosCA /tmp
</code></pre>
</li>
<li>
<p>Copy the certificates to their default location (/etc/daos) on each
    admin node:</p>
<pre><code>pdsh -S -w \$ADMIN\_NODE sudo cp /tmp/daosCA/certs/daosCA.crt /etc/daos/certs/.
pdsh -S -w \$ADMIN\_NODE sudo cp /tmp/daosCA/certs/admin.crt /etc/daos/certs/.
pdsh -S -w \$ADMIN\_NODE sudo cp /tmp/daosCA/certs/admin.key /etc/daos/certs/.
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note<p>If the /etc/daos/certs directory does not exist on the admin nodes then use the following command to create it:</p>
<pre><code>pdsh -S -w \$ADMIN\_NODES sudo mkdir /etc/daos/certs
</code></pre>
</p>
</div>
</li>
<li>
<p>Copy the certificates to their default location (/etc/daos) on each
    client node:</p>
<pre><code>pdsh -S -w \$CLIENT\_NODES sudo cp /tmp/daosCA/certs/daosCA.crt /etc/daos/certs/.
pdsh -S -w \$CLIENT\_NODES sudo cp /tmp/daosCA/certs/agent.crt /etc/daos/certs/.
pdsh -S -w \$CLIENT\_NODES sudo cp /tmp/daosCA/certs/agent.key /etc/daos/certs/.
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the /etc/daos/certs directory does not exist on the client nodes, use the following command to create it:</p>
<pre><code>pdsh -S -w \$CLIENT\_NODES sudo mkdir /etc/daos/certs
</code></pre>
</div>
</li>
<li>
<p>Copy the certificates to their default location (/etc/daos) on each
    server node:</p>
<pre><code>pdsh -S -w \$SERVER\_NODES sudo cp /tmp/daosCA/certs/daosCA.crt /etc/daos/certs/.
pdsh -S -w \$SERVER\_NODES sudo cp /tmp/daosCA/certs/server.crt /etc/daos/certs/.
pdsh -S -w \$SERVER\_NODES sudo cp /tmp/daosCA/certs/server.key /etc/daos/certs/.
pdsh -S -w \$SERVER\_NODES sudo cp /tmp/daosCA/certs/agent.crt /etc/daos/certs/clients/agent.crt
</code></pre>
</li>
<li>
<p>Set the ownership of the admin certificates on each admin node:</p>
<pre><code>pdsh -S -w \$ADMIN\_NODE sudo chown \$USER:\$USER /etc/daos/certs/daosCA.crt
pdsh -S -w \$ADMIN\_NODE sudo chown \$USER:\$USER /etc/daos/certs/admin.\*
</code></pre>
</li>
<li>
<p>Set the ownership of the client certificates on each client node:</p>
<pre><code>pdsh -S -w \$CLIENT\_NODES sudo chown \$USER:\$USER /etc/daos/certs/daosCA.crt
pdsh -S -w \$CLIENT\_NODES sudo chown daos\_agent:daos\_agent /etc/daos/certs/agent.\*
</code></pre>
</li>
<li>
<p>Set the ownership of the server certificates on each server node:</p>
<pre><code>pdsh -S -w \$SERVER\_NODES sudo chown daos\_server:daos\_server /etc/daos/certs/daosCA.crt
pdsh -S -w \$SERVER\_NODES sudo chown daos\_server:daos\_server /etc/daos/certs/server.\*
pdsh -S -w \$SERVER\_NODES sudo chown daos\_server:daos\_server /etc/daos/certs/clients/agent.crt
pdsh -S -w \$SERVER\_NODES sudo chown daos\_server:daos\_server /etc/daos/certs/clients
</code></pre>
</li>
</ol>
<h2 id="create-configuration-files">Create Configuration Files<a class="headerlink" href="#create-configuration-files" title="Permanent link">&para;</a></h2>
<p>In this section the <code>daos\_server</code>, <code>daos\_agent</code>, and dmg command
configuration files will be defined. Examples are available at
<a href="https://github.com/daos-stack/daos/tree/release/1.2/utils/config/examples">https://github.com/daos-stack/daos/tree/release/1.2/utils/config/examples</a></p>
<ol>
<li>
<p>Determine the addresses for the NVMe devices on the server
    nodes:</p>
<pre><code>pdsh -S -w \$SERVER\_NODES sudo lspci \| grep -i nvme
</code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Save the addresses of the NVMe devices to use with each DAOS server,
e.g. \"81:00.0\", from each server node.  This information will be
used to populate the \"bdev_list\" server configuration parameter
below.</p>
</div>
</li>
<li>
<p>Create a server configuration file by modifying the default
    <code>/etc/daos/daos\_server.yml</code> file on the server nodes.</p>
<p>An example of the daos_server.yml is presented below.  Copy the modified server yaml file to all the server nodes at `/etc/daos/daos_server.yml. </p>
<p>More details on configuring the daos_server.yml file are available at <a href="https://wiki.hpdd.intel.com/display/DAOS/Server+configuration+file+details">Server configuration file details</a>.</p>
<pre><code>name: daos_server

access_points: ['node-4']
port: 10001

transport_config:                                                            
  allow_insecure: false                                                      
  client_cert_dir: /etc/daos/certs/clients                    
  ca_cert: /etc/daos/certs/daosCA.crt                         
  cert: /etc/daos/certs/server.crt                            
  key: /etc/daos/certs/server.key
provider: ofi+verbs;ofi_rxm
socket_dir: /var/run/daos_server
nr_hugepages: 4096
control_log_mask: DEBUG
control_log_file: /tmp/daos_server.log
helper_log_file: /tmp/daos_admin.log
engines:                                                                      
-
  targets: 8
  nr_xs_helpers: 0
  fabric_iface: ib0                                                          
  fabric_iface_port: 31316
  log_mask: INFO
  log_file: /tmp/daos_engine_0.log
  env_vars:                                                                   
      - CRT_TIMEOUT=30
  scm_mount: /mnt/daos0
  scm_class: dcpm
  scm_list: [/dev/pmem0]
  bdev_class: nvme                                                
  bdev_list: ["0000:81:00.0"]  # generate regular nvme.conf                  
-
  targets: 8
  nr_xs_helpers: 0
  fabric_iface: ib1                                                     
  fabric_iface_port: 31416
  log_mask: INFO
  log_file: /tmp/daos_engine_1.log
  env_vars:                                                                   
      - CRT_TIMEOUT=30
  scm_mount: /mnt/daos1
  scm_class: dcpm
  scm_list: [/dev/pmem1]
  bdev_class: nvme                                                
  bdev_list: ["0000:83:00.0"]  # generate regular nvme.conf
</code></pre>
</li>
<li>
<p>Copy the modified server yaml file to all the server nodes at <code>/etc/daos/daos_server.yml</code>.</p>
</li>
<li>
<p>Create an agent configuration file by modifying the default <code>/etc/daos/daos_agent.yml</code> file on the client nodes.  The following is an example daos_agent.yml. Copy the modified agent yaml file to all the client nodes at <code>/etc/daos/daos_agent.yml</code>. More details on configuring the daos_agent.yml file are available at <a href="https://wiki.hpdd.intel.com/display/DAOS/Agent+configuration+file+details">Agent configuration file details</a></p>
<pre><code>name: daos_server
access_points: ['node-4']

port: 10001

transport_config:
  allow_insecure: false
  ca_cert: /etc/daos/certs/daosCA.crt
  cert: /etc/daos/certs/agent.crt
  key: /etc/daos/certs/agent.key
runtime_dir: /var/run/daos_agent
log_file: /tmp/daos_agent.log
</code></pre>
</li>
<li>
<p>Create a dmg configuration file by modifying the default <code>/etc/daos/daos_control.yml</code> file on the admin node. The following is an example of the <code>daos_control.yml</code>. More details on configuring the <code>daos_control.yml</code> file are available in the <a href="https://wiki.hpdd.intel.com/display/DAOS/DMG+configuration+file+details">DMG configuration file details</a>.</p>
<pre><code>name: daos_server
port: 10001
hostlist: ['node-4', 'node-5', 'node-6']

transport_config:
  allow_insecure: false
  ca_cert: /etc/daos/certs/daosCA.crt
  cert: /etc/daos/certs/admin.crt
  key: /etc/daos/certs/admin.key
</code></pre>
</li>
</ol>
<h2 id="start-the-daos-servers">Start the DAOS Servers<a class="headerlink" href="#start-the-daos-servers" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Start daos engines on server nodes:</p>
<pre><code>pdsh -S -w $SERVER_NODES "sudo systemctl daemon-reload"
pdsh -S -w $SERVER_NODES "sudo systemctl start daos_server"
</code></pre>
</li>
<li>
<p>Check status and format storage:</p>
<pre><code># check status
pdsh -S -w $SERVER_NODES "sudo systemctl status daos_server"

# if you see following format messages (depending on number of servers), proceed to storage format
wolf-179: May 05 22:21:03 wolf-179.wolf.hpdd.intel.com daos_server[37431]: Metadata format required on instance 0

# format storage
dmg storage format -l $SERVER_NODES --reformat
</code></pre>
</li>
<li>
<p>Verify that all servers have started:</p>
<pre><code># system query from ADMIN_NODE
dmg system query -v

# all the server ranks should show 'Joined' STATE
Rank UUID                                 Control Address  Fault Domain                  State  Reason
---- ----                                 ---------------  ------------                  -----  ------
0    604c4ffa-563a-49dc-b702-3c87293dbcf3 10.8.1.179:10001 /wolf-179.wolf.hpdd.intel.com Joined       
1    f0791f98-4379-4ace-a083-6ca3ffa65756 10.8.1.179:10001 /wolf-179.wolf.hpdd.intel.com Joined       
2    745d2a5b-46dd-42c5-b90a-d2e46e178b3e 10.8.1.189:10001 /wolf-189.wolf.hpdd.intel.com Joined       
3    ba6a7800-3952-46ce-af92-bba9daa35048 10.8.1.189:10001 /wolf-189.wolf.hpdd.intel.com Joined
</code></pre>
</li>
</ol>
<h2 id="start-the-daos-agents">Start the DAOS Agents<a class="headerlink" href="#start-the-daos-agents" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Start the daos agents on the client nodes:</p>
<pre><code># start agents
pdsh -S -w $CLIENT_NODES "sudo systemctl start daos_agent"
</code></pre>
</li>
<li>
<p>(Optional) Check daos_agent status:</p>
<pre><code># check status
pdsh -S -w $CLIENT_NODES "cat /tmp/daos_agent.log"

# Sample output depending on number of client nodes
node-2: agent INFO 2021/05/05 22:38:46 DAOS Agent v1.2 (pid 47580) listening on /var/run/daos_agent/daos_agent.sock
node-3: agent INFO 2021/05/05 22:38:53 DAOS Agent v1.2 (pid 39135) listening on /var/run/daos_agent/daos_agent.sock
</code></pre>
</li>
</ol>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../overview/security/" title="Security Model" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Security Model
              </span>
            </div>
          </a>
        
        
          <a href="../suse_setup/" title="DAOS openSUSE Setup" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                DAOS openSUSE Setup
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
<script src="../../assets/javascripts/application.c33a9706.js"></script> 
<script src="../../js/jquery-3.4.1.min.js"></script> 
<script src="../../js/popper.min.js"></script> 
<script src="../../js/bootstrap-4.4.1.js"></script> 
<script>app.initialize({version:"1.1.2",url:{base:".."}})</script>
</body>
</html>